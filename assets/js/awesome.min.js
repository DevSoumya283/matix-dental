$(document).ready(function() {
    $(document).on("click", ".CustomerOrderClose", function () {
        var selection = $(this).parents('li').attr('id');
        if(selection=='order_location') {
            $(".locations").val("");
            $("#order_location").hide();
        }
        if(selection=='order_vendor') {            
            $(".vendors").val("");
            $("#order_vendor").hide();
        }
        $categories = $(".all_categories").val();
        $start_date = $(".cstartDate").val();
        $end_date = $(".cendDate").val();
        $locations = $(".locations").val();
        $vendors = $(".vendors").val();
        $('.start_order').val($start_date);
        $('.end_order').val($end_date);
        
        $.ajax({
            type: "POST",
            url: base_url + "orders_filters",
            data: {start_date: $start_date, end_date: $end_date, locName: $locations, vendorName: $vendors},
            success: function (data) {
                $("a.modal__close").trigger("click");
                $(".order_report").html(data);
            }
        });                
    });
 $(".configure-orders").click(function () {
     $categories = $(".all_categories").val();
     $start_date =$(".cstartDate").val();
     $end_date = $(".cendDate").val();
     $locations =$(".locations").val();
     $vendors = $(".vendors").val();
     $('.start_order').val($start_date);
     $('.end_order').val($end_date);
     if ($(".order_vendors").val() != "") {
         $("#order_vendor").show();
         var VendorName=$(".order_vendors option:selected").text();
         $(".order_vendor").html(VendorName + ' <a class="filter--clear" href="#"><svg class="icon icon--x CustomerOrderClose"><use xlink:href="#icon-x"></use></svg></a>');
     }
     if ($(".order_locations").val() != "") {
         $("#order_location").show();
         var LocationName=$(".order_locations option:selected").text();
         $(".order_location").html(LocationName + ' <a class="filter--clear" href="#"><svg class="icon icon--x CustomerOrderClose"><use xlink:href="#icon-x"></use></svg></a>');
     }

     $.ajax({
        type: "POST",
        url: base_url + "orders_filters",
        data: {start_date: $start_date,end_date : $end_date, locName: $locations,vendorName: $vendors},
        success: function (data) {
          $("a.modal__close").trigger("click");
          $(".order_report").html(data);          
        }
      });
  });
});             
$(document).ready(function() {
    $(document).on('click', '.CustomerProductClose', function () {
        var selection = $(this).parents('li').attr('id');
        if (selection == 'product_location') {
            $(".locations2").val("");
            $("#product_location").hide();
        }
        if (selection == 'product_vendor') {
            $(".vendors2").val("");
            $("#product_vendor").hide();
        }
        if (selection == 'product_category') {
            $(".all_categories2").val("");
            $("#product_category").hide();
        }
        $categories = $(".all_categories2").val();
        $start_date = $(".cstartDate2").val();
        $end_date = $(".cendDate2").val();
        $locations = $(".locations2").val();
        $vendors = $(".vendors2").val();
        $('.startDate').val($start_date);
        $('.endDate').val($end_date);
        $.ajax({
            type: "POST",
            url: base_url + "products_filters",
            data: {categories: $categories, start_date: $start_date, end_date: $end_date, locName: $locations, vendorName: $vendors},
            success: function (data) {
                $("a.modal__close").trigger("click");
                $(".product_report").html(data);
            }
        });
    });    
 $(".configure-products").click(function () {
     $categories = $(".all_categories2").val();
     $start_date =$(".cstartDate2").val();
     $end_date = $(".cendDate2").val();
     $locations =$(".locations2").val();
     $vendors = $(".vendors2").val();
     $('.startDate').val($start_date);
     $('.endDate').val($end_date);
     
     if ($(".product_categories").val() != "") {
         $(".product_category").show();
         var productCategory=$(".product_categories option:selected").text();
         $(".product_category").html(productCategory + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerProductClose"><use xlink:href="#icon-x"></use></svg></a>');
     }
     if ($(".product_vendors").val() != "") {
         $(".product_vendor").show();
         var productVendor=$(".product_vendors option:selected").text();
         $(".product_vendor").html(productVendor + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerProductClose"><use xlink:href="#icon-x"></use></svg></a>');
     }
     if ($(".product_locations").val() != "") {
         $(".product_location").show();
         var productLocation=$(".product_locations option:selected").text();
         $(".product_location").html(productLocation + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerProductClose"><use xlink:href="#icon-x"></use></svg></a>');
     }
     $.ajax({
        type: "POST",
        url: base_url + "products_filters",
        data: {categories:$categories,start_date: $start_date,end_date : $end_date, locName: $locations,vendorName: $vendors},
        success: function (data) {
          $("a.modal__close").trigger("click");
          $(".product_report").html(data); 
        }
    });
  });
});
$(document).ready(function () {
    $(document).on('click', '.CustomerTaxClose', function () {
        var selection = $(this).parents('li').attr('id');
        if (selection == 'tax_location') {
            $(".locations3").val("");
            $("#tax_location").hide();
        }
        if (selection == 'tax_vendor') {
            $(".vendors3").val("");
            $("#tax_vendor").hide();
        }
        if (selection == 'tax_category') {
            $(".all_categories3").val("");
            $("#tax_category").hide();
        }
        $categories = $(".all_categories3").val();
        $start_date = $(".cstartDate3").val();
        $end_date = $(".cendDate3").val();
        $locations = $(".locations3").val();
        $vendors = $(".vendors3").val();
        $('.starttaxdate').val($start_date);
        $('.endtaxdate').val($end_date);
        $.ajax({
            type: "POST",
            url: base_url + "tax_filters",
            data: {categories: $categories, start_date: $start_date, end_date: $end_date, locName: $locations, vendorName: $vendors},
            success: function (data) {
                $("a.modal__close").trigger("click");
                $(".tax_report").html(data);
            }
        });
    });
    
    $(".configure-tax").click(function () {
        $categories = $(".all_categories3").val();
        $start_date = $(".cstartDate3").val();
        $end_date = $(".cendDate3").val();
        $locations = $(".locations3").val();
        $vendors = $(".vendors3").val();
        $('.starttaxdate').val($start_date);
        $('.endtaxdate').val($end_date);

        if ($(".tax_categories").val() !== "") {
            $(".tax_category").show();
            var taxCategory = $(".tax_categories option:selected").text();
            $(".tax_category").html(taxCategory + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerTaxClose"><use xlink:href="#icon-x"></use></svg></a>');
        }
        if ($(".tax_vendors").val() !== "") {
            $(".tax_vendor").show();
            var taxVendor = $(".tax_vendors option:selected").text();
            $(".tax_vendor").html(taxVendor + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerTaxClose"><use xlink:href="#icon-x"></use></svg></a>');
        }
        if ($(".tax_locations").val() !== "") {
            $(".tax_location").show();
            var taxLocation = $(".tax_locations option:selected").text();
            $(".tax_location").html(taxLocation + '  <a class="filter--clear" href="#"><svg class="icon icon--x CustomerTaxClose"><use xlink:href="#icon-x"></use></svg></a>');
        }
        $.ajax({
            type: "POST",
            url: base_url + "tax_filters",
            data: {categories: $categories, start_date: $start_date, end_date: $end_date, locName: $locations, vendorName: $vendors},
            success: function (data) {
                $("a.modal__close").trigger("click");
                $(".tax_report").html(data);
            }
        });
    });
});

 $("#exportscsv").click(function () {
        $("#exports_ordercsv").tableToCSV();
    });
$("#exportscsv2").click(function () {
        $("#exports_ordercsv2").tableToCSV();
    });
$("#exportscsv3").click(function () {
        $("#exports_ordercsv3").tableToCSV();
});